<div class="login-container">
  <div class="login-card-wrapper">
    <p-card>
      <div class="login-header">
        <h1>Innovar Health System</h1>
        <p>Primary Health Center & Laboratory Management</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <div class="field">
          <label for="username">Username</label>
          <input
            id="username"
            type="text"
            pInputText
            formControlName="username"
            placeholder="Enter your username"
            [class.ng-invalid]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
          />
          <small class="p-error" *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
            Username is required
          </small>
        </div>

        <div class="field">
          <label for="password">Password</label>
          <span class="p-input-icon-right">
            <input
              id="password"
              [type]="showPassword ? 'text' : 'password'"
              pInputText
              formControlName="password"
              placeholder="Enter your password"
              [class.ng-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
              styleClass="w-full"
            />
            <i 
              [class]="'pi ' + (showPassword ? 'pi-eye-slash' : 'pi-eye')"
              (click)="showPassword = !showPassword"
            ></i>
          </span>
          <small class="p-error" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            Password is required
          </small>
        </div>

        <p-button
          type="submit"
          label="Login"
          icon="pi pi-sign-in"
          [loading]="loading"
          [disabled]="loginForm.invalid"
          styleClass="w-full"
        ></p-button>
      </form>

      <div class="login-footer">
        <p class="text-sm text-color-secondary">
          Default credentials: nurse1/nurse123 or lab1/lab123
        </p>
      </div>
    </p-card>
  </div>
</div>

<p-toast></p-toast>

